<Window x:Class="UltAssist.UI.StatusOverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="UltAssist Status" 
        Height="80" Width="400"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Left="100" Top="20">
    
    <!-- 主容器，带圆角和阴影效果 -->
    <Border Background="#CC2E3440" CornerRadius="8" 
            BorderBrush="#5E81AC" BorderThickness="1"
            Margin="5">
        <Border.Effect>
            <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="2" Opacity="0.3"/>
        </Border.Effect>
        
        <Grid Margin="12,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- 左侧状态指示器 -->
            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                <!-- 监听状态指示灯 -->
                <Ellipse x:Name="ListeningIndicator" 
                        Width="12" Height="12" 
                        Fill="#BF616A" 
                        Margin="0,0,8,0"/>
                
                <!-- 游戏状态指示灯 -->
                <Ellipse x:Name="GameIndicator" 
                        Width="12" Height="12" 
                        Fill="#BF616A" 
                        Margin="0,0,12,0"/>
            </StackPanel>
            
            <!-- 中间信息区域 -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <!-- 第一行：监听状态和游戏状态 -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,2">
                    <TextBlock x:Name="ListeningStatusText" 
                              Text="监听: 已禁用" 
                              FontSize="11" FontWeight="SemiBold"
                              Foreground="#D8DEE9" 
                              Margin="0,0,16,0"/>
                    
                    <TextBlock x:Name="GameStatusText" 
                              Text="游戏: 未检测到" 
                              FontSize="11" FontWeight="SemiBold"
                              Foreground="#D8DEE9"/>
                </StackPanel>
                
                <!-- 第二行：最后按键和正在播放 -->
                <StackPanel Orientation="Horizontal">
                    <TextBlock x:Name="LastKeyText" 
                              Text="最后按键: -" 
                              FontSize="10" FontStyle="Italic"
                              Foreground="#88C0D0" 
                              Margin="0,0,16,0"/>
                    
                    <TextBlock x:Name="PlayingAudiosText" 
                              Text="播放: -" 
                              FontSize="10" FontStyle="Italic"
                              Foreground="#88C0D0"/>
                </StackPanel>
            </StackPanel>
            
            <!-- 右侧控制按钮 -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                <!-- 最小化到托盘按钮 -->
                <Button x:Name="MinimizeBtn" 
                       Content="─" 
                       Width="20" Height="20" 
                       FontSize="10" FontWeight="Bold"
                       Background="Transparent" 
                       Foreground="#D8DEE9"
                       BorderThickness="0"
                       Margin="0,0,4,0"
                       ToolTip="最小化主窗口"
                       Click="MinimizeBtn_Click"/>
                
                <!-- 关闭按钮 -->
                <Button x:Name="CloseBtn" 
                       Content="×" 
                       Width="20" Height="20" 
                       FontSize="12" FontWeight="Bold"
                       Background="Transparent" 
                       Foreground="#BF616A"
                       BorderThickness="0"
                       ToolTip="关闭应用"
                       Click="CloseBtn_Click"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
